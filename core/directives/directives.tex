\section{ Attribute Directives }
\maketitle{}

An attribute directive changes the appearance, or behavior of a DOM Element.
It is tagged on of an html element to change the way it works. For instance,
while it is probably better to use CSS in this situation, let's create a
really low level directive, to introduce how it works:
\begin{lstlisting}
import { Directive, ElementRef } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  constructor(el: ElementRef) {
    el.nativeElement.style.backgroundColor = 'yellow';
  }
}
\end{lstlisting}

Now we have the ability to apply this directive to out html element:
\begin{lstlisting}
<p appHighlight>Highlight me!</p>
\end{lstlisting}

As a result of the directive we have applied on this p element, the background
for this p element will now yellow.

It, of course, can be incredible useful.

\mybox{
 A @Directive is not to be confused with a @Component. A @Component requires
 html, wherein a @Directive does not use html. A @Directive is meant to be
 tagged onto html, and modify it's behavior.
}

\subsection{A Great Example}
A great example of this, is adding drag and drop functionality to a component.
That in it's self is not component worthy. However, adding a dropzone directive
for instance, to the element, would make any potential component drag and
droppable worthy. A

A great example of a component, would be a data table. A large part of it's
functionality is strickly tied to actual UI element.

\mybox{
  A side note with regards to our architecture, directives will be very used. If
  you find yourself writing, with what feels like too many components, don't
  worry, it's to be expected.
}

\subsection{ Passing Values into the Directive }
A directive has the ability to pass a value in. For instance, going back to our
highlight example, let's create an @Input() (Angulars way of passing in values)
for our highlight directive.
\begin{lstlisting}
import { Directive, ElementRef } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  @Input() highlightColor: string;

  constructor(el: ElementRef) {
    el.nativeElement.style.backgroundColor = this.highlightColor';
  }
}
\end{lstlisting}

Now if we were to go back to our template, we have the option to insert the
color we want within the template:
\begin{lstlisting}
<p appHighlight='orange'>Highlight me!</p>
\end{lstlisting}

The background of this component is going to be orange!

\subsubsection{ Passing in Multiple Values }
Passing in multiple values is as simple as adding a second @Input value to our
Angular Directive:

\begin{lstlisting}
import { Directive, ElementRef } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  @Input() highlightColor: string;
  @Input() defaultColor: string;

  constructor(el: ElementRef) {
    el.nativeElement.style.backgroundColor = this.highlightColor';
  }
}
\end{lstlisting}

Just like that we can now pass multiple values to our html element:
\begin{lstlisting}
<p appHighlight="orange" defaultColor="blue" >Highlight me!</p>
\end{lstlisting}

Angular knows once the appHighlight directive has been exposed, that it has the
input of defaultColor, or any other Input you might add for that matter. 

\subsection{ Modify Values Based on Events }
Directives also give the option to modify based on an event. For instance,
we could add logic based on mouseenter.

\begin{lstlisting}
import { Directive, ElementRef } from '@angular/core';

@Directive({
  selector: '[appHighlight]'
})
export class HighlightDirective {
  @Input() highlightColor: string;

  constructor(el: ElementRef) {
    el.nativeElement.style.backgroundColor = this.highlightColor';
  }

  @HostListener('mouseenter') onMouseEnter() {
    this.highlight(this.highlightColor);
  }

  @HostListener('mouseleave') onMouseLeave() {
    this.highlight(null);
  }

  private highlight(color: string) {
    this.el.nativeElement.style.backgroundColor = color;
  }
}
\end{lstlisting}

Now let's say we add this directive to our <p> tag.

\begin{lstlisting}
<p appHighlight highlightColor="yellow">This will be Highlighted in Yellow on
mouseenter. Good times!</p>
\end{lstlisting}

\subsection{ Examples of Directives }
I think at this point, after just getting used to directives, it can be a bit
difficult to internalize what an example of a directive looks like. I would
therefore just like to jot down real quick, what an example of some custom
directives would look like:
\begin{enumerate}
  \item trim-whitespace.directive.ts - A directive for trimming extra whitespace
  from input fields. It would include an onChange event for whenever value is
  changed. It would also include an onTouched event, so that whenever user
  clicks on input, it will trim any of the text.
  \item infinite-scroll.directive.ts - An infinite scroll directive. It would
  attach its self to a container, and allow for it to make Graphql reqeusts,
  whenever user scrolls beyond height of the container.
  \item copy-to-clipboard.directive.ts - Allow for the ability of automatically
  copying text to the clipboard.
  \item go-back.directive.ts - Allows for the ability to attach the capability
  to click on any button and go back to the previous page.
\end{enumerate}
